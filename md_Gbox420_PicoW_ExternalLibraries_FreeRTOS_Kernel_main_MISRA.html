<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gbox: MISRA Compliance</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Gbox420.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gbox
   &#160;<span id="projectnumber">4.20</span>
   </div>
   <div id="projectbrief">Grow box automation and monitoring</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('md_Gbox420_PicoW_ExternalLibraries_FreeRTOS_Kernel_main_MISRA.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">MISRA Compliance </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>FreeRTOS-Kernel conforms to <a href="https://www.misra.org.uk/misra-c">MISRA C:2012</a> guidelines, with the deviations listed below. Compliance is checked with Coverity static analysis version 2023.6.1. Since the FreeRTOS kernel is designed for small-embedded devices, it needs to have a very small memory footprint and has to be efficient. To achieve that and to increase the performance, it deviates from some MISRA rules. The specific deviations, suppressed inline, are listed below.</p>
<p>Additionally, <a href="examples/coverity/coverity_misra.config">MISRA configuration file</a> contains project wide deviations.</p>
<h2>Suppressed with Coverity Comments</h2>
<p>To find the violation references in the source files run grep on the source code with ( Assuming rule 8.4 violation; with justification in point 1 ): </p><div class="fragment"><div class="line">grep &#39;MISRA Ref 8.4.1&#39; . -rI</div>
</div><!-- fragment --><h3>Rule 8.4</h3>
<p>MISRA C:2012 Rule 8.4: A compatible declaration shall be visible when an object or function with external linkage is defined.</p>
<p><em>Ref 8.4.1</em></p><ul>
<li><a class="el" href="tasks_8c.html#aeceb1ce641f0a4c4a5a298b1f3cbae9e">pxCurrentTCB(s)</a> is defined with external linkage but it is only referenced from the assembly code in the port files. Therefore, adding a declaration in header file is not useful as the assembly code will still need to declare it separately.</li>
</ul>
<p><em>Ref 8.4.2</em></p><ul>
<li>xQueueRegistry is defined with external linkage because it is accessed by the kernel unit tests. It is not meant to be directly accessed by the application and therefore, not declared in a header file.</li>
</ul>
<h3>Rule 8.6</h3>
<p>MISRA C:2012 Rule 8.6: An identifier with external linkage shall have exactly one external definition.</p>
<p><em>Ref 8.6.1</em></p><ul>
<li>This rule prohibits an identifier with external linkage to have multiple definitions or no definition. FreeRTOS hook functions are implemented in the application and therefore, have no definition in the Kernel code.</li>
</ul>
<h3>Rule 11.1</h3>
<p>MISRA C:2012 Rule 11.1: Conversions shall not be performed between a pointer to function and any other type.</p>
<p><em>Ref 11.1.1</em></p><ul>
<li>The pointer to function is casted into void to avoid unused parameter compiler warning when Stream Buffer's Tx and Rx Completed callback feature is not used.</li>
</ul>
<h3>Rule 11.3</h3>
<p>MISRA C:2012 Rule 11.3: A cast shall not be performed between a pointer to object type and a pointer to a different object type.</p>
<p><em>Ref 11.3.1</em></p><ul>
<li>This rule prohibits casting a pointer to object into a pointer to a different object because it may result in an incorrectly aligned pointer, leading to undefined behavior. Even if the casting produces a correctly aligned pointer, the behavior may be still undefined if the pointer is used to access an object. FreeRTOS deliberately creates external aliases for all the kernel object types (StaticEventGroup_t, StaticQueue_t, StaticStreamBuffer_t, StaticTimer_t and StaticTask_t) for data hiding purposes. The internal object types and the corresponding external aliases are guaranteed to have the same size and alignment which is checked using configASSERT.</li>
</ul>
<h3>Rule 11.5</h3>
<p>MISRA C:2012 Rule 11.5: A conversion should not be performed from pointer to void into pointer to object. This rule prohibits conversion of a pointer to void into a pointer to object because it may result in an incorrectly aligned pointer leading to undefined behavior.</p>
<p><em>Ref 11.5.1</em></p><ul>
<li>The memory blocks returned by <a class="el" href="ThirdParty_2GCC_2Xtensa__ESP32_2include_2portmacro_8h.html#a4d523dc6c079459faa62130465595246">pvPortMalloc()</a> are guaranteed to meet the architecture alignment requirements specified by portBYTE_ALIGNMENT. The casting of the pointer to void returned by <a class="el" href="ThirdParty_2GCC_2Xtensa__ESP32_2include_2portmacro_8h.html#a4d523dc6c079459faa62130465595246">pvPortMalloc()</a> is, therefore, safe because it is guaranteed to be aligned.</li>
</ul>
<p><em>Ref 11.5.2</em></p><ul>
<li>The conversion from a pointer to void into a pointer to EventGroup_t is safe because it is a pointer to EventGroup_t, which is returned to the application at the time of event group creation for data hiding purposes.</li>
</ul>
<p><em>Ref 11.5.3</em></p><ul>
<li>The conversion from a pointer to void in list macros for list item owner is safe because the type of the pointer stored and retrieved is the same.</li>
</ul>
<p><em>Ref 11.5.4</em></p><ul>
<li>The conversion from a pointer to void into a pointer to EventGroup_t is safe because it is a pointer to EventGroup_t, which is passed as a parameter to the xTimerPendFunctionCallFromISR API when the callback is pended.</li>
</ul>
<p><em>Ref 11.5.5</em></p><ul>
<li>The conversion from a pointer to void into a pointer to uint8_t is safe because data storage buffers are implemented as uint8_t arrays for the ease of sizing, alignment and access.</li>
</ul>
<h3>Rule 21.6</h3>
<p>MISRA C-2012 Rule 21.6: The Standard Library input/output functions shall not be used.</p>
<p><em>Ref 21.6.1</em></p><ul>
<li>The Standard Library function snprintf is used in vTaskListTasks and vTaskGetRunTimeStatistics APIs, both of which are utility functions only and are not considered part of core kernel implementation. </li>
</ul>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
