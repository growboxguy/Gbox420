<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gbox: xEventGroupWaitBits</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Gbox420.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gbox
   &#160;<span id="projectnumber">4.20</span>
   </div>
   <div id="projectbrief">Grow box automation and monitoring</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__xEventGroupWaitBits.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">xEventGroupWaitBits</div>  </div>
</div><!--header-->
<div class="contents">
<p><a class="el" href="event__groups_8h.html">event_groups.h</a> </p><div class="fragment"><div class="line"><a class="code" href="structEventGroupDef__t.html">EventGroupHandle_t</a> xEventGroupCreateStatic( <a class="code" href="structEventGroupDef__t.html">EventGroupHandle_t</a> * pxEventGroupBuffer );</div>
<div class="ttc" id="astructEventGroupDef__t_html"><div class="ttname"><a href="structEventGroupDef__t.html">EventGroupDef_t</a></div><div class="ttdef"><b>Definition:</b> <a href="event__groups_8c_source.html#l00048">event_groups.c:49</a></div></div>
</div><!-- fragment --><p>Create a new event group.</p>
<p>Internally, within the FreeRTOS implementation, event groups use a [small] block of memory, in which the event group's structure is stored. If an event groups is created using xEventGroupCreate() then the required memory is automatically dynamically allocated inside the xEventGroupCreate() function. (see <a href="https://www.FreeRTOS.org/a00111.html">https://www.FreeRTOS.org/a00111.html</a>). If an event group is created using xEventGroupCreateStatic() then the application writer must instead provide the memory that will get used by the event group. xEventGroupCreateStatic() therefore allows an event group to be created without using any dynamic memory allocation.</p>
<p>Although event groups are not related to ticks, for internal implementation reasons the number of bits available for use in an event group is dependent on the configTICK_TYPE_WIDTH_IN_BITS setting in FreeRTOSConfig.h. If configTICK_TYPE_WIDTH_IN_BITS is 0 then each event group contains 8 usable bits (bit 0 to bit 7). If configTICK_TYPE_WIDTH_IN_BITS is set to 1 then each event group has 24 usable bits (bit 0 to bit 23). If configTICK_TYPE_WIDTH_IN_BITS is set to 2 then each event group has 56 usable bits (bit 0 to bit 53). The EventBits_t type is used to store event bits within an event group.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pxEventGroupBuffer</td><td>pxEventGroupBuffer must point to a variable of type StaticEventGroup_t, which will be then be used to hold the event group's data structures, removing the need for the memory to be allocated dynamically.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the event group was created then a handle to the event group is returned. If pxEventGroupBuffer was NULL then NULL is returned.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// StaticEventGroup_t is a publicly accessible structure that has the same</span></div>
<div class="line"><span class="comment">// size and alignment requirements as the real event group structure.  It is</span></div>
<div class="line"><span class="comment">// provided as a mechanism for applications to know the size of the event</span></div>
<div class="line"><span class="comment">// group (which is dependent on the architecture and configuration file</span></div>
<div class="line"><span class="comment">// settings) without breaking the strict data hiding policy by exposing the</span></div>
<div class="line"><span class="comment">// real event group internals.  This StaticEventGroup_t variable is passed</span></div>
<div class="line"><span class="comment">// into the xSemaphoreCreateEventGroupStatic() function and is used to store</span></div>
<div class="line"><span class="comment">// the event group&#39;s data structures</span></div>
<div class="line"><a class="code" href="structxSTATIC__EVENT__GROUP.html">StaticEventGroup_t</a> xEventGroupBuffer;</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Create the event group without dynamically allocating any memory.</span></div>
<div class="line">xEventGroup = xEventGroupCreateStatic( &amp;xEventGroupBuffer );</div>
<div class="ttc" id="astructxSTATIC__EVENT__GROUP_html"><div class="ttname"><a href="structxSTATIC__EVENT__GROUP.html">xSTATIC_EVENT_GROUP</a></div><div class="ttdef"><b>Definition:</b> <a href="FreeRTOS_8h_source.html#l03236">FreeRTOS.h:3237</a></div></div>
</div><!-- fragment --><p> <a class="el" href="event__groups_8h.html">event_groups.h</a> </p><div class="fragment"><div class="line"><a class="code" href="event__groups_8h.html#ab2f21b93db0b2a0ab64d7a81ff32ac2e">EventBits_t</a> <a class="code" href="event__groups_8c.html#a379c5cca4552d3d8acd4c51e8220a6c3">xEventGroupWaitBits</a>(    <a class="code" href="structEventGroupDef__t.html">EventGroupHandle_t</a> xEventGroup,</div>
<div class="line">                                    <span class="keyword">const</span> <a class="code" href="event__groups_8h.html#ab2f21b93db0b2a0ab64d7a81ff32ac2e">EventBits_t</a> uxBitsToWaitFor,</div>
<div class="line">                                    <span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> xClearOnExit,</div>
<div class="line">                                    <span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> xWaitForAllBits,</div>
<div class="line">                                    <span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xTicksToWait );</div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a46fb21e00ae0729d7515c0fbf2269796"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a></div><div class="ttdeci">long BaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00074">portmacrocommon.h:74</a></div></div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a83586323ab175c3dfcbd7f4704e09743"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a></div><div class="ttdeci">uint16_t TickType_t</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00078">portmacrocommon.h:78</a></div></div>
<div class="ttc" id="aevent__groups_8c_html_a379c5cca4552d3d8acd4c51e8220a6c3"><div class="ttname"><a href="event__groups_8c.html#a379c5cca4552d3d8acd4c51e8220a6c3">xEventGroupWaitBits</a></div><div class="ttdeci">EventBits_t xEventGroupWaitBits(EventGroupHandle_t xEventGroup, const EventBits_t uxBitsToWaitFor, const BaseType_t xClearOnExit, const BaseType_t xWaitForAllBits, TickType_t xTicksToWait)</div><div class="ttdef"><b>Definition:</b> <a href="event__groups_8c_source.html#l00306">event_groups.c:306</a></div></div>
<div class="ttc" id="aevent__groups_8h_html_ab2f21b93db0b2a0ab64d7a81ff32ac2e"><div class="ttname"><a href="event__groups_8h.html#ab2f21b93db0b2a0ab64d7a81ff32ac2e">EventBits_t</a></div><div class="ttdeci">TickType_t EventBits_t</div><div class="ttdef"><b>Definition:</b> <a href="event__groups_8h_source.html#l00113">event_groups.h:113</a></div></div>
</div><!-- fragment --><p>[Potentially] block to wait for one or more bits to be set within a previously created event group.</p>
<p>This function cannot be called from an interrupt.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">xEventGroup</td><td>The event group in which the bits are being tested. The event group must have previously been created using a call to xEventGroupCreate().</td></tr>
    <tr><td class="paramname">uxBitsToWaitFor</td><td>A bitwise value that indicates the bit or bits to test inside the event group. For example, to wait for bit 0 and/or bit 2 set uxBitsToWaitFor to 0x05. To wait for bits 0 and/or bit 1 and/or bit 2 set uxBitsToWaitFor to 0x07. Etc.</td></tr>
    <tr><td class="paramname">xClearOnExit</td><td>If xClearOnExit is set to pdTRUE then any bits within uxBitsToWaitFor that are set within the event group will be cleared before <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> returns if the wait condition was met (if the function returns for a reason other than a timeout). If xClearOnExit is set to pdFALSE then the bits set in the event group are not altered when the call to <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> returns.</td></tr>
    <tr><td class="paramname">xWaitForAllBits</td><td>If xWaitForAllBits is set to pdTRUE then <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> will return when either all the bits in uxBitsToWaitFor are set or the specified block time expires. If xWaitForAllBits is set to pdFALSE then <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> will return when any one of the bits set in uxBitsToWaitFor is set or the specified block time expires. The block time is specified by the xTicksToWait parameter.</td></tr>
    <tr><td class="paramname">xTicksToWait</td><td>The maximum amount of time (specified in 'ticks') to wait for one/all (depending on the xWaitForAllBits value) of the bits specified by uxBitsToWaitFor to become set. A value of portMAX_DELAY can be used to block indefinitely (provided INCLUDE_vTaskSuspend is set to 1 in FreeRTOSConfig.h).</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The value of the event group at the time either the bits being waited for became set, or the block time expired. Test the return value to know which bits were set. If <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> returned because its timeout expired then not all the bits being waited for will be set. If <a class="el" href="event__groups_8h.html#aab9d5b405bc57b7624dcabe9a9a503db">xEventGroupWaitBits()</a> returned because the bits it was waiting for were set then the returned value is the event group value before any bits were automatically cleared in the case that xClearOnExit parameter was set to pdTRUE.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="preprocessor">#define BIT_0 ( 1 &lt;&lt; 0 )</span></div>
<div class="line"><span class="preprocessor">#define BIT_4 ( 1 &lt;&lt; 4 )</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> aFunction( <a class="code" href="structEventGroupDef__t.html">EventGroupHandle_t</a> xEventGroup )</div>
<div class="line">{</div>
<div class="line"><a class="code" href="event__groups_8h.html#ab2f21b93db0b2a0ab64d7a81ff32ac2e">EventBits_t</a> uxBits;</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xTicksToWait = 100 / <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a>;</div>
<div class="line"> </div>
<div class="line">     <span class="comment">// Wait a maximum of 100ms for either bit 0 or bit 4 to be set within</span></div>
<div class="line">     <span class="comment">// the event group.  Clear the bits before exiting.</span></div>
<div class="line">     uxBits = <a class="code" href="event__groups_8c.html#a379c5cca4552d3d8acd4c51e8220a6c3">xEventGroupWaitBits</a>(</div>
<div class="line">                 xEventGroup,    <span class="comment">// The event group being tested.</span></div>
<div class="line">                 BIT_0 | BIT_4,  <span class="comment">// The bits within the event group to wait for.</span></div>
<div class="line">                 <a class="code" href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a>,         <span class="comment">// BIT_0 and BIT_4 should be cleared before returning.</span></div>
<div class="line">                 <a class="code" href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a>,        <span class="comment">// Don&#39;t wait for both bits, either bit will do.</span></div>
<div class="line">                 xTicksToWait ); <span class="comment">// Wait a maximum of 100ms for either bit to be set.</span></div>
<div class="line"> </div>
<div class="line">     <span class="keywordflow">if</span>( ( uxBits &amp; ( BIT_0 | BIT_4 ) ) == ( BIT_0 | BIT_4 ) )</div>
<div class="line">     {</div>
<div class="line">         <span class="comment">// xEventGroupWaitBits() returned because both bits were set.</span></div>
<div class="line">     }</div>
<div class="line">     <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( uxBits &amp; BIT_0 ) != 0 )</div>
<div class="line">     {</div>
<div class="line">         <span class="comment">// xEventGroupWaitBits() returned because just BIT_0 was set.</span></div>
<div class="line">     }</div>
<div class="line">     <span class="keywordflow">else</span> <span class="keywordflow">if</span>( ( uxBits &amp; BIT_4 ) != 0 )</div>
<div class="line">     {</div>
<div class="line">         <span class="comment">// xEventGroupWaitBits() returned because just BIT_4 was set.</span></div>
<div class="line">     }</div>
<div class="line">     <span class="keywordflow">else</span></div>
<div class="line">     {</div>
<div class="line">         <span class="comment">// xEventGroupWaitBits() returned because xTicksToWait ticks passed</span></div>
<div class="line">         <span class="comment">// without either BIT_0 or BIT_4 becoming set.</span></div>
<div class="line">     }</div>
<div class="line">}</div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a554d9322ce7f698a86a22b21234bd8cd"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a554d9322ce7f698a86a22b21234bd8cd">portTICK_PERIOD_MS</a></div><div class="ttdeci">#define portTICK_PERIOD_MS</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00096">portmacrocommon.h:96</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_aa56260e937e7e203026707e5ba944273"><div class="ttname"><a href="projdefs_8h.html#aa56260e937e7e203026707e5ba944273">pdFALSE</a></div><div class="ttdeci">#define pdFALSE</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00052">projdefs.h:52</a></div></div>
<div class="ttc" id="aprojdefs_8h_html_af268cf937960eb029256bd9c4d949fbe"><div class="ttname"><a href="projdefs_8h.html#af268cf937960eb029256bd9c4d949fbe">pdTRUE</a></div><div class="ttdeci">#define pdTRUE</div><div class="ttdef"><b>Definition:</b> <a href="projdefs_8h_source.html#l00053">projdefs.h:53</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
