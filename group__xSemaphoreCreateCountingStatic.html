<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gbox: xSemaphoreCreateCountingStatic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Gbox420.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gbox
   &#160;<span id="projectnumber">4.20</span>
   </div>
   <div id="projectbrief">Grow box automation and monitoring</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__xSemaphoreCreateCountingStatic.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">xSemaphoreCreateCountingStatic</div>  </div>
</div><!--header-->
<div class="contents">
<p>semphr. h </p><div class="fragment"><div class="line"><a class="code" href="structQueueDefinition.html">SemaphoreHandle_t</a> xSemaphoreCreateCountingStatic( <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a> uxMaxCount, <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a> uxInitialCount, <a class="code" href="structxSTATIC__QUEUE.html">StaticSemaphore_t</a> *pxSemaphoreBuffer );</div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a646f89d4298e4f5afd522202b11cb2e6"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a646f89d4298e4f5afd522202b11cb2e6">UBaseType_t</a></div><div class="ttdeci">unsigned long UBaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00075">portmacrocommon.h:75</a></div></div>
<div class="ttc" id="astructQueueDefinition_html"><div class="ttname"><a href="structQueueDefinition.html">QueueDefinition</a></div><div class="ttdef"><b>Definition:</b> <a href="queue_8c_source.html#l00103">queue.c:104</a></div></div>
<div class="ttc" id="astructxSTATIC__QUEUE_html"><div class="ttname"><a href="structxSTATIC__QUEUE.html">xSTATIC_QUEUE</a></div><div class="ttdef"><b>Definition:</b> <a href="FreeRTOS_8h_source.html#l03193">FreeRTOS.h:3194</a></div></div>
</div><!-- fragment --><p>Creates a new counting semaphore instance, and returns a handle by which the new counting semaphore can be referenced.</p>
<p>In many usage scenarios it is faster and more memory efficient to use a direct to task notification in place of a counting semaphore! <a href="https://www.FreeRTOS.org/RTOS-task-notifications.html">https://www.FreeRTOS.org/RTOS-task-notifications.html</a></p>
<p>Internally, within the FreeRTOS implementation, counting semaphores use a block of memory, in which the counting semaphore structure is stored. If a counting semaphore is created using xSemaphoreCreateCounting() then the required memory is automatically dynamically allocated inside the xSemaphoreCreateCounting() function. (see <a href="https://www.FreeRTOS.org/a00111.html">https://www.FreeRTOS.org/a00111.html</a>). If a counting semaphore is created using xSemaphoreCreateCountingStatic() then the application writer must provide the memory. xSemaphoreCreateCountingStatic() therefore allows a counting semaphore to be created without using any dynamic memory allocation.</p>
<p>Counting semaphores are typically used for two things:</p>
<p>1) Counting events.</p>
<p>In this usage scenario an event handler will 'give' a semaphore each time an event occurs (incrementing the semaphore count value), and a handler task will 'take' a semaphore each time it processes an event (decrementing the semaphore count value). The count value is therefore the difference between the number of events that have occurred and the number that have been processed. In this case it is desirable for the initial count value to be zero.</p>
<p>2) Resource management.</p>
<p>In this usage scenario the count value indicates the number of resources available. To obtain control of a resource a task must first obtain a semaphore - decrementing the semaphore count value. When the count value reaches zero there are no free resources. When a task finishes with the resource it 'gives' the semaphore back - incrementing the semaphore count value. In this case it is desirable for the initial count value to be equal to the maximum count value, indicating that all resources are free.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">uxMaxCount</td><td>The maximum count value that can be reached. When the semaphore reaches this value it can no longer be 'given'.</td></tr>
    <tr><td class="paramname">uxInitialCount</td><td>The count value assigned to the semaphore when it is created.</td></tr>
    <tr><td class="paramname">pxSemaphoreBuffer</td><td>Must point to a variable of type StaticSemaphore_t, which will then be used to hold the semaphore's data structure, removing the need for the memory to be allocated dynamically.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>If the counting semaphore was successfully created then a handle to the created counting semaphore is returned. If pxSemaphoreBuffer was NULL then NULL is returned.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><a class="code" href="structQueueDefinition.html">SemaphoreHandle_t</a> xSemaphore;</div>
<div class="line"><a class="code" href="structxSTATIC__QUEUE.html">StaticSemaphore_t</a> xSemaphoreBuffer;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">void</span> vATask( <span class="keywordtype">void</span> * pvParameters )</div>
<div class="line">{</div>
<div class="line"><a class="code" href="structQueueDefinition.html">SemaphoreHandle_t</a> xSemaphore = <a class="code" href="ThirdParty_2GCC_2ARC__EM__HS_2portmacro_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// Counting semaphore cannot be used before they have been created.  Create</span></div>
<div class="line"> <span class="comment">// a counting semaphore using xSemaphoreCreateCountingStatic().  The max</span></div>
<div class="line"> <span class="comment">// value to which the semaphore can count is 10, and the initial value</span></div>
<div class="line"> <span class="comment">// assigned to the count will be 0.  The address of xSemaphoreBuffer is</span></div>
<div class="line"> <span class="comment">// passed in and will be used to hold the semaphore structure, so no dynamic</span></div>
<div class="line"> <span class="comment">// memory allocation will be used.</span></div>
<div class="line"> xSemaphore = xSemaphoreCreateCounting( 10, 0, &amp;xSemaphoreBuffer );</div>
<div class="line"> </div>
<div class="line"> <span class="comment">// No memory allocation was attempted so xSemaphore cannot be NULL, so there</span></div>
<div class="line"> <span class="comment">// is no need to check its value.</span></div>
<div class="line">}</div>
<div class="ttc" id="aThirdParty_2GCC_2ARC__EM__HS_2portmacro_8h_html_a070d2ce7b6bb7e5c05602aa8c308d0c4"><div class="ttname"><a href="ThirdParty_2GCC_2ARC__EM__HS_2portmacro_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a></div><div class="ttdeci">#define NULL</div><div class="ttdef"><b>Definition:</b> <a href="ThirdParty_2GCC_2ARC__EM__HS_2portmacro_8h_source.html#l00070">portmacro.h:70</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
