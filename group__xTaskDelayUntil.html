<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Gbox: xTaskDelayUntil</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="Gbox420.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Gbox
   &#160;<span id="projectnumber">4.20</span>
   </div>
   <div id="projectbrief">Grow box automation and monitoring</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.svg"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('group__xTaskDelayUntil.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">xTaskDelayUntil</div>  </div>
</div><!--header-->
<div class="contents">
<p>task. h </p><div class="fragment"><div class="line"><a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> <a class="code" href="task_8h.html#af7ba46e730bec507c8a20d9f9b9c0e1d">xTaskDelayUntil</a>( <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> *pxPreviousWakeTime, <span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xTimeIncrement );</div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a46fb21e00ae0729d7515c0fbf2269796"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a></div><div class="ttdeci">long BaseType_t</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00074">portmacrocommon.h:74</a></div></div>
<div class="ttc" id="aARMv8M_2non__secure_2portmacrocommon_8h_html_a83586323ab175c3dfcbd7f4704e09743"><div class="ttname"><a href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a></div><div class="ttdeci">uint16_t TickType_t</div><div class="ttdef"><b>Definition:</b> <a href="ARMv8M_2non__secure_2portmacrocommon_8h_source.html#l00078">portmacrocommon.h:78</a></div></div>
<div class="ttc" id="atask_8h_html_af7ba46e730bec507c8a20d9f9b9c0e1d"><div class="ttname"><a href="task_8h.html#af7ba46e730bec507c8a20d9f9b9c0e1d">xTaskDelayUntil</a></div><div class="ttdeci">BaseType_t xTaskDelayUntil(TickType_t *const pxPreviousWakeTime, const TickType_t xTimeIncrement) PRIVILEGED_FUNCTION</div></div>
</div><!-- fragment --><p>INCLUDE_xTaskDelayUntil must be defined as 1 for this function to be available. See the configuration section for more information.</p>
<p>Delay a task until a specified time. This function can be used by periodic tasks to ensure a constant execution frequency.</p>
<p>This function differs from vTaskDelay () in one important aspect: vTaskDelay () will cause a task to block for the specified number of ticks from the time vTaskDelay () is called. It is therefore difficult to use vTaskDelay () by itself to generate a fixed execution frequency as the time between a task starting to execute and that task calling vTaskDelay () may not be fixed [the task may take a different path though the code between calls, or may get interrupted or preempted a different number of times each time it executes].</p>
<p>Whereas vTaskDelay () specifies a wake time relative to the time at which the function is called, xTaskDelayUntil () specifies the absolute (exact) time at which it wishes to unblock.</p>
<p>The macro <a class="el" href="projdefs_8h.html#a353d0f62b82a402cb3db63706c81ec3f">pdMS_TO_TICKS()</a> can be used to calculate the number of ticks from a time specified in milliseconds with a resolution of one tick period.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pxPreviousWakeTime</td><td>Pointer to a variable that holds the time at which the task was last unblocked. The variable must be initialised with the current time prior to its first use (see the example below). Following this the variable is automatically updated within xTaskDelayUntil ().</td></tr>
    <tr><td class="paramname">xTimeIncrement</td><td>The cycle time period. The task will be unblocked at time *pxPreviousWakeTime + xTimeIncrement. Calling xTaskDelayUntil with the same xTimeIncrement parameter value will cause the task to execute with a fixed interface period.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Value which can be used to check whether the task was actually delayed. Will be pdTRUE if the task way delayed and pdFALSE otherwise. A task will not be delayed if the next expected wake time is in the past.</dd></dl>
<p>Example usage: </p><div class="fragment"><div class="line"><span class="comment">// Perform an action every 10 ticks.</span></div>
<div class="line"><span class="keywordtype">void</span> vTaskFunction( <span class="keywordtype">void</span> * pvParameters )</div>
<div class="line">{</div>
<div class="line"><a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xLastWakeTime;</div>
<div class="line"><span class="keyword">const</span> <a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a83586323ab175c3dfcbd7f4704e09743">TickType_t</a> xFrequency = 10;</div>
<div class="line"><a class="code" href="ARMv8M_2non__secure_2portmacrocommon_8h.html#a46fb21e00ae0729d7515c0fbf2269796">BaseType_t</a> xWasDelayed;</div>
<div class="line"> </div>
<div class="line">    <span class="comment">// Initialise the xLastWakeTime variable with the current time.</span></div>
<div class="line">    xLastWakeTime = <a class="code" href="task_8h.html#a753ecfe23e7386066ecccad5d16422f7">xTaskGetTickCount</a> ();</div>
<div class="line">    <span class="keywordflow">for</span>( ;; )</div>
<div class="line">    {</div>
<div class="line">        <span class="comment">// Wait for the next cycle.</span></div>
<div class="line">        xWasDelayed = <a class="code" href="task_8h.html#af7ba46e730bec507c8a20d9f9b9c0e1d">xTaskDelayUntil</a>( &amp;xLastWakeTime, xFrequency );</div>
<div class="line"> </div>
<div class="line">        <span class="comment">// Perform action here. xWasDelayed value can be used to determine</span></div>
<div class="line">        <span class="comment">// whether a deadline was missed if the code here took too long.</span></div>
<div class="line">    }</div>
<div class="line">}</div>
<div class="ttc" id="atask_8h_html_a753ecfe23e7386066ecccad5d16422f7"><div class="ttname"><a href="task_8h.html#a753ecfe23e7386066ecccad5d16422f7">xTaskGetTickCount</a></div><div class="ttdeci">TickType_t xTaskGetTickCount(void) PRIVILEGED_FUNCTION</div><div class="ttdef"><b>Definition:</b> <a href="tasks_8c_source.html#l04096">tasks.c:4096</a></div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1 </li>
  </ul>
</div>
</body>
</html>
